<Window x:Class="UWUVCI_AIO_WPF.Modules.Nintendont.NintendontConfigWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Nintendont Configurator"
        Height="675" Width="1125"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="None"
        Background="#FFF9F9F9">

    <Window.Resources>
        <!-- Button styling -->
        <Style TargetType="Button">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="Margin" Value="8,0,0,0"/>
            <Setter Property="MinWidth" Value="120"/>
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"
                                              Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#42A5F5"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#1E88E5"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="BorderBrush" Value="#CCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="4"/>
            <Style.Triggers>
                <Trigger Property="IsKeyboardFocused" Value="True">
                    <Setter Property="BorderBrush" Value="#2196F3"/>
                    <Setter Property="BorderThickness" Value="1.5"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="FormLabel" TargetType="TextBlock">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Foreground" Value="#222"/>
        </Style>
    </Window.Resources>

    <Border CornerRadius="6"
            Background="White"
            Margin="12"
            Padding="12"
            BorderBrush="#2196F3"
            BorderThickness="1">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Header -->
                <RowDefinition Height="Auto"/>
                <!-- Drive/Preset -->
                <RowDefinition Height="*"/>
                <!-- Main Content -->
                <RowDefinition Height="Auto"/>
                <!-- Footer -->
            </Grid.RowDefinitions>

            <!-- ── HEADER ───────────────────────────── -->
            <DockPanel Grid.Row="0" Margin="0,0,0,10" LastChildFill="False">
                <TextBlock Text="🎮 Nintendont Configurator"
                           FontSize="22"
                           FontWeight="Bold"
                           Foreground="#1A1A1A"
                           VerticalAlignment="Center"/>

                <!-- Banner -->
                <Border x:Name="BannerNewFormat"
                        Background="#FFFFF4B5"
                        BorderBrush="#FFE0C24B"
                        BorderThickness="1"
                        CornerRadius="12"
                        Padding="10,2"
                        Margin="12,0,0,0"
                        VerticalAlignment="Center"
                        Visibility="Collapsed">
                    <TextBlock Text="⚠️ Newer nincfg.bin format detected"
                               Foreground="#5C4A00"
                               FontSize="12"
                               FontWeight="SemiBold"
                               VerticalAlignment="Center"/>
                </Border>
            </DockPanel>

            <!-- ── DRIVE + PRESET + ACTION BUTTONS ── -->
            <Grid Grid.Row="1" Margin="0,0,0,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Left: drive and preset -->
                <Grid Grid.Column="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="280"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Margin="0,0,16,0">
                        <TextBlock Text="SD Card / Drive" FontWeight="SemiBold"/>
                        <ComboBox x:Name="DriveBox" Width="200" Height="32" Margin="0,4,0,0"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1">
                        <TextBlock Text="Preset" FontWeight="SemiBold"/>
                        <ComboBox x:Name="PresetBox" Width="260" Height="32" Margin="0,4,0,0"/>
                        <Border x:Name="PresetDescriptionContainer"
                                CornerRadius="6"
                                Background="#1A000000"
                                Padding="6"
                                Margin="0,6,0,0">
                            <TextBlock x:Name="PresetDescription"
                                       Text="(Choose a preset to see details)"
                                       TextWrapping="Wrap"
                                       Foreground="Gray"
                                       FontSize="12"
                                       Width="260"/>
                        </Border>
                    </StackPanel>
                </Grid>

                <!-- Right: action buttons -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="BtnReloadDrives" Content="Reload Drives" Width="140" Height="32"/>
                    <Button x:Name="BtnOpen" Content="Open nincfg.bin…" Width="170" Height="32"/>
                    <Button x:Name="BtnDownload" Content="Download Nintendont" Width="190" Height="32"/>
                </StackPanel>
            </Grid>

            <!-- ── MAIN CONTENT (TWO COLUMNS) ── -->
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- LEFT COLUMN -->
                <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="0,0,16,0">
                        <!-- Gameplay -->
                        <TextBlock Text="Gameplay" FontWeight="Bold" FontSize="15" Margin="0,0,0,4"/>
                        <WrapPanel Margin="0,0,0,12" ItemWidth="220">
                            <CheckBox x:Name="ChkCheats" Content="Cheats"/>
                            <CheckBox x:Name="ChkAutoBoot" Content="Auto Boot"/>
                            <CheckBox x:Name="ChkSkipIpl" Content="Skip IPL"/>
                            <CheckBox x:Name="ChkTriArcade" Content="TRI Arcade Mode"/>
                            <CheckBox x:Name="ChkBba" Content="BBA Emulation"/>
                            <CheckBox x:Name="ChkCheatPath" Content="Cheat Path (/codes)"/>
                        </WrapPanel>

                        <!-- Memory Card -->
                        <TextBlock Text="Memory Card" FontWeight="Bold" FontSize="15" Margin="0,0,0,4"/>
                        <Grid Margin="0,0,0,12">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="160"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Memcard Emulation:"/>
                            <CheckBox Grid.Row="0" Grid.Column="1" x:Name="ChkMemcardEmu" Content="Enable"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Blocks:"/>
                            <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal">
                                <ComboBox x:Name="MemcardBlocksBox" Width="120" Height="28" Margin="0,0,10,0"/>
                                <CheckBox x:Name="ChkMemcardMulti" Content="Memcard Multi"/>
                            </StackPanel>
                        </Grid>

                        <!-- Controller -->
                        <TextBlock Text="Controller" FontWeight="Bold" FontSize="15" Margin="0,0,0,4"/>
                        <Grid Margin="0,0,0,12">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="160"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="CC Rumble:"/>
                            <CheckBox Grid.Row="0" Grid.Column="1" x:Name="ChkCcRumble" Content="Enable"/>
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Native Control:"/>
                            <CheckBox Grid.Row="1" Grid.Column="1" x:Name="ChkNativeSi" Content="Enable"/>
                        </Grid>

                        <!-- Video -->
                        <TextBlock Text="Video" FontWeight="Bold" FontSize="15" Margin="0,0,0,4"/>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="160"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Force Mode:"/>
                            <ComboBox Grid.Row="0" Grid.Column="1" x:Name="VideoForceBox" Height="32"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Type:"/>
                            <ComboBox Grid.Row="1" Grid.Column="1" x:Name="VideoTypeBox" Height="32"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Width:"/>
                            <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal">
                                <Slider x:Name="VideoWidthSlider" Minimum="640" Maximum="720" Width="160"/>
                                <TextBlock x:Name="VideoWidthLabel" Text="Auto" Margin="8,0,0,0"/>
                                <CheckBox x:Name="ChkAutoWidth" Content="Auto" Margin="16,0,0,0"/>
                            </StackPanel>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Widescreen:"/>
                            <CheckBox Grid.Row="3" Grid.Column="1" x:Name="ChkForceWide" Content="Force 16:9 (Wii U Wide)"/>

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Progressive / PAL:"/>
                            <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal">
                                <CheckBox x:Name="ChkForceProg" Content="Force Progressive (480p)" Margin="0,0,16,0"/>
                                <CheckBox x:Name="ChkPatchPal50" Content="Patch PAL50"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </ScrollViewer>

                <!-- RIGHT COLUMN -->
                <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!-- System -->
                        <TextBlock Text="System" FontWeight="Bold" FontSize="15" Margin="0,0,0,4"/>
                        <Grid Margin="0,0,0,12">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Language:"/>
                            <ComboBox Grid.Row="0" Grid.Column="1" x:Name="LanguageBox" Height="32"/>
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Wii U Gamepad Slot:"/>
                            <ComboBox Grid.Row="1" Grid.Column="1" x:Name="GamepadSlotBox" Height="32"/>
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Max Pads:"/>
                            <ComboBox Grid.Row="2" Grid.Column="1" x:Name="MaxPadsBox" Height="32"/>
                        </Grid>

                        <!-- Debug -->
                        <TextBlock Text="Debug" FontWeight="Bold" FontSize="15" Margin="0,0,0,4"/>
                        <WrapPanel Margin="0,0,0,12" ItemWidth="240">
                            <CheckBox x:Name="ChkDebugger" Content="Debugger"/>
                            <CheckBox x:Name="ChkDebugWait" Content="Debugger Wait"/>
                            <CheckBox x:Name="ChkOsReport" Content="OSReport"/>
                            <CheckBox x:Name="ChkLog" Content="Log"/>
                            <CheckBox x:Name="ChkDriveLed" Content="Drive Access LED"/>
                        </WrapPanel>

                        <!-- Performance -->
                        <TextBlock Text="Performance" FontWeight="Bold" FontSize="15" Margin="0,0,0,4"/>
                        <WrapPanel Margin="0,0,0,12" ItemWidth="240">
                            <CheckBox x:Name="ChkUnlockRead" Content="Unlock Read Speed"/>
                        </WrapPanel>

                        <!-- Paths -->
                        <TextBlock Text="Paths (FYI)" FontWeight="Bold" FontSize="15" Margin="0,0,0,4"/>
                        <Grid Margin="0,0,0,12">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Cheats Path:"/>
                            <TextBox Grid.Row="0" Grid.Column="1" x:Name="CheatPathBox" Width="320" Height="28" IsReadOnly="True" Text="/codes"/>
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Game Path:"/>
                            <TextBox Grid.Row="1" Grid.Column="1" x:Name="GamePathBox" Width="320" Height="28" IsReadOnly="True" Text="/games"/>
                        </Grid>

                        <!-- Save / Load -->
                        <TextBlock Text="Save, Load, Download" FontWeight="Bold" FontSize="15" Margin="0,0,0,4"/>
                        <StackPanel Orientation="Horizontal">
                            <Button x:Name="BtnDetect" Content="Auto-Detect nincfg.bin" Width="190" Height="32" Margin="0,0,8,0"/>
                            <Button x:Name="BtnSaveToSd" Content="Save to SD (nincfg.bin)" Width="200" Height="32" Margin="0,0,8,0"/>
                            <Button x:Name="BtnSaveAs" Content="Save As…" Width="110" Height="32"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </Grid>

            <!-- ── FOOTER ── -->
            <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="BtnCloseFooter" Content="Close" Width="90" Height="34"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
